<back-link [route]="'/settings/items'"></back-link>
<separator-title title="Crear producto"></separator-title>

<div class="w-full bg-white rounded-lg">
  <div  class="flex flex-col p-8">

    <loading *ngIf="loading"></loading>
    <form [formGroup]="form">
      <div class="w-full flex-col lg:flex flex-row justify-start mb-4">
        <h3 class="font-bold">Indique los datos del producto</h3>
      </div>

      <div class="my-4 w-full lg:w-1/2 lg:mx-4">
        <label class="block text-gray-700 text-sm font-bold mb-2" for="unit">
          Indique el rubro
        </label>
        <select
        class="shadow appearance-none border
               rounded w-full py-2 px-3 text-gray-700
               leading-tight focus:outline-none
               focus:shadow-outline"
        id="month"
        formControlName="itemId">
        <option *ngFor="let item of rubros" [value]="item.id">
          {{ item.name }}
        </option>
      </select>

      </div>


      <div class="w-full flex-col lg:flex flex-row justify-start">
        <h3>Indique un nombre al producto</h3>
      </div>
      <div class="w-full flex-col lg:flex flex-row justify-start">
        <div class="my-4 w-full lg:w-1/2 lg:mx-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="name">
            Nombre
          </label>
          <input class="shadow appearance-none border
                        rounded w-full py-2 px-3 text-gray-700
                        leading-tight focus:outline-none
                        focus:shadow-outline"
                 type="text"
                 [ngClass]="{'focus:border-red-700': form.value.brandName!.length < 3 || form.value.brandName!.length > 30}"
                 placeholder="Nombre"
                 formControlName="brandName"
           />
        </div>
      </div>

      <div class="w-full flex-col lg:flex flex-row justify-start">
        <h3>Indique la cantidad y unidad del producto</h3>
      </div>
      <div class="w-full flex-col lg:flex flex-row justify-start">
        <div class="my-4 w-full lg:w-1/2 lg:mx-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="qtx">
            Indique el volumen
          </label>
          <input class="shadow appearance-none border
                        rounded w-full py-2 px-3 text-gray-700
                        leading-tight focus:outline-none
                        focus:shadow-outline"
                 type="number"
                 inputmode="numeric"
                 min="0"
                 placeholder="10"
                 [ngClass]="{'focus:border-red-700': form.value.volume === 0 || form.value.volume && form.value.volume < 0}"
                 formControlName="volume"
           />
        </div>

        <div class="my-4 w-full lg:w-1/2 lg:mx-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="unit">
            Indique la unidad de medida por empaque
          </label>
          <select
          class="shadow appearance-none border
                 rounded w-full py-2 px-3 text-gray-700
                 leading-tight focus:outline-none
                 focus:shadow-outline"
          id="month"
          formControlName="measure">
          <option value="ml">ml</option>
          <option value="L">L</option>
          <option value="g">g</option>
          <option value="kg">kg</option>
        </select>
        </div>
      </div>

      <div class="w-full flex-col lg:flex flex-row justify-start">
        <h3>Escriba un comentario del producto</h3>
      </div>
      <div class="w-full flex-col lg:flex flex-row justify-start">
        <div class="my-4 w-full lg:w-1/2 lg:mx-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="comments">
            Comentario
          </label>
          <input class="shadow appearance-none border
                        rounded w-full py-2 px-3 text-gray-700
                        leading-tight focus:outline-none
                        focus:shadow-outline"
                 type="text"
                 placeholder="comentario"
                 [ngClass]="{'focus:border-red-700': form.value.comments!.length < 3 || form.value.comments!.length > 250}"
                 formControlName="comments"
           />
        </div>
      </div>

    </form>

    <div class="w-full flex flex-row justify-center lg:justify-end mt-8">
      <custom-button text="Registrar producto"
        [disable]="form.invalid"
        (click)="onSubmit()"></custom-button>
    </div>
  </div>
</div>

