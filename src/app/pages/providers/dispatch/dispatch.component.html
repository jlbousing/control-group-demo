
<separator-title *ngIf="supplier" [title]="'Despacho ('+supplier.name+')'"></separator-title>
<div class="w-full lg:w-4/5 bg-white rounded-lg">
  <div class="flex flex-col">
    <div class="flex flex-col lg:flex-row lg:justify-between pt-16 lg:mr-12 px-8">

      <search-input class="flex flex-row justify-center px-4"
                    [label]="'Buscar Asignación'"
                    [placeholder]="'Buscar por id'"
                   ></search-input>
   </div>
    <loading *ngIf="loading"></loading>
    <div *ngIf="!loading" class="flex flex-col items-center lg:flex-row lg:justify-between pt-16">
      <div class="w-full flex flex-col items-center lg:flex-row lg:justify-start lg:mx-8">

        <div class="my-4 w-full lg:w-1/2 mx-4 flex flex-col">
          <label class="block text-gray-700 text-label font-bold mb-2" for="enterprises">
            Asignación:
          </label>
          <select
              class="shadow appearance-none border
                     rounded w-full py-2 px-5 text-gray-700
                     leading-tight focus:outline-none
                     focus:shadow-outline"
                     id="assignament"
                     [(ngModel)]="assignament"
                     (ngModelChange)="setAssignament($event)">
                     <option *ngFor="let assignament of assignaments" [ngValue]="assignament">
                        {{assignament.name}}
                     </option>
             </select>
        </div>

        <div class="my-4 w-full lg:w-1/2 mx-4 flex flex-col">
          <label class="block text-gray-700 text-label font-bold mb-2" for="enterprises">
            Receta:
          </label>
          <select
            class="shadow appearance-none border
                   rounded w-full py-2 px-5 text-gray-700
                   leading-tight focus:outline-none
                   focus:shadow-outline"
                   id="assignament"
                   [(ngModel)]="recipe"
                   (ngModelChange)="setRecipe($event)">
                   <option *ngFor="let recipe of recipes" [ngValue]="recipe">
                      {{ recipe.name }}
                   </option>
           </select>
        </div>

        <div class="my-4 w-full lg:w-1/2 mx-4 flex flex-col">
          <label class="block text-gray-700 text-label font-bold mb-2" for="enterprises">
            Producción:
          </label>
          <select
          class="shadow appearance-none border
                 rounded w-full py-2 px-5 text-gray-700
                 leading-tight focus:outline-none
                 focus:shadow-outline"
                 id="assignament"
                 [(ngModel)]="production"
                 (ngModelChange)="setProduction($event)">
                 <option *ngFor="let production of productions" [ngValue]="production">
                    {{ production.recipeData.name }}
                 </option>
         </select>
        </div>

      </div>
    </div>
    <div class="flex justify-center px-8 py-12 max-w-full overflow-auto">
      <dispatch-table class="w-full"
        [dispatchs]="dispatchs"
        [production]="production"></dispatch-table>
    </div>
  </div>
</div>

